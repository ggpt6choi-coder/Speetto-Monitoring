# Speetto-Monitoring

# 스피또 정보 자동 추출기 PRD (Product Requirements Document)

## 1. 목적

- 동행복권(dhlottery.co.kr) 사이트에서 스피또(즉석복권) 관련 최신 정보를 자동으로 추출한다.
- 네트워크 요청에서 JSON 데이터를 파싱하고, DOM에서 스피또 관련 정보를 수집한다.

## 2. 주요 기능

1. **사이트 접속 및 데이터 수집**
   - Playwright를 사용해 dhlottery.co.kr에 자동 접속
   - 네트워크 요청 중 `getGameInfoAll` API의 JSON 응답을 자동으로 파싱
   - DOM에서 스피또 관련 정보(예: 남은 수량, 당첨 현황 등) 추출
2. **실행 및 자동화**
   - Node.js 환경에서 스크립트로 실행 가능
   - headless/headed 모드 모두 지원
3. **에러 처리 및 로깅**
   - 네트워크 파싱 실패, 셀렉터 미발견 등 예외 상황에 대한 에러 메시지 출력
   - 주요 데이터 콘솔 출력

## 3. 요구사항

- Node.js 18 이상
- Playwright 패키지
- (선택) 추출 정보의 구조화 및 파일 저장 기능

## 4. 상세 시나리오

1. 사용자가 스크립트를 실행한다.
2. 스크립트가 dhlottery.co.kr 메인 페이지에 접속한다.
3. 네트워크 요청 중 `getGameInfoAll` 응답을 감지하여 JSON 데이터로 파싱한다.
4. DOM에서 스피또 관련 정보를 추출한다. (정확한 셀렉터는 개발 중 확인)
5. 추출된 정보를 콘솔에 출력한다.
6. (선택) 추출 정보를 파일로 저장한다.

## 5. 예외 및 한계

- 사이트 구조 변경 시 셀렉터 및 API 경로 수정 필요
- 스피또 정보가 비동기로 로드될 경우 대기 로직 필요

## 6. 향후 확장

- 다양한 즉석복권 정보 추가 지원
- 주기적 자동 실행 및 알림 기능
- 웹 대시보드 연동

---

문의 및 피드백: hyeonwoo
